<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Velocite Systems Protected Point to Point Solution: p3primary.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>p3primary.h</h1><a href="p3primary_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00008"></a>00008 <span class="preprocessor">#ifndef _p3_PRIMARY_H</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#define _p3_PRIMARY_H</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span>
<a name="l00011"></a>00011 <span class="comment">/*****  INCLUDE FILES *****/</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="p3base_8h.html">p3base.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="p3utils_8h.html">p3utils.h</a>&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="comment">/*****  CONSTANTS  *****/</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="comment">/*****  DATA DEFINITIONS  *****/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a><a class="code" href="p3primary_8h.html#ac3596c5a7e6b03666dbb9f8e9af849a7">00020</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__p3pri__main.html">_p3pri_main</a> <a class="code" href="struct__p3pri__main.html">p3pri_main</a>;
<a name="l00021"></a><a class="code" href="p3primary_8h.html#a64d5d6ad32d8d65f2fc2d40c2cc26736">00021</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__p3intfc.html">_p3intfc</a> <a class="code" href="struct__p3intfc.html">p3intfc</a>;
<a name="l00022"></a><a class="code" href="p3primary_8h.html#ae44ac62c0ebf3e153254263750b1987c">00022</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__p3random.html">_p3random</a> <a class="code" href="struct__p3random.html">p3random</a>;
<a name="l00023"></a><a class="code" href="p3primary_8h.html#a39e064f7388b71e8e9dd6f5d0f0f4a65">00023</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__p3cluster.html">_p3cluster</a> <a class="code" href="struct__p3cluster.html">p3cluster</a>;
<a name="l00024"></a><a class="code" href="p3primary_8h.html#aac64fa9528e94a867df0def9269c5b03">00024</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__p3chost.html">_p3chost</a> <a class="code" href="struct__p3chost.html">p3chost</a>;
<a name="l00025"></a>00025 
<a name="l00035"></a><a class="code" href="struct__p3pri__main.html">00035</a> <span class="keyword">struct </span><a class="code" href="struct__p3pri__main.html">_p3pri_main</a> {
<a name="l00036"></a><a class="code" href="struct__p3pri__main.html#a29a54e979c5be00a5f295f484c1f7b9d">00036</a>     <span class="keywordtype">char</span>            *<a class="code" href="struct__p3pri__main.html#a29a54e979c5be00a5f295f484c1f7b9d">home</a>;      
<a name="l00037"></a><a class="code" href="p3primary_8h.html#acce4c5dece2a418d518e559205f6d4cb">00037</a> <span class="preprocessor">#define p3PRI_HOME  &quot;/usr/share/velsys/p3&quot;</span>
<a name="l00038"></a><a class="code" href="struct__p3pri__main.html#a9f948262c27674610fdd3bf9cdc1d4b7">00038</a> <span class="preprocessor"></span>    <span class="keywordtype">char</span>            *<a class="code" href="struct__p3pri__main.html#a9f948262c27674610fdd3bf9cdc1d4b7">config</a>;    
<a name="l00039"></a><a class="code" href="p3primary_8h.html#a291640594b811cb783cca0881730dbc4">00039</a> <span class="preprocessor">#define p3PRI_CONFIG    &quot;p3primary.conf&quot;</span>
<a name="l00040"></a><a class="code" href="struct__p3pri__main.html#ad7fb4a244db9b29660f051b6b18aaa92">00040</a> <span class="preprocessor"></span>    FILE            *<a class="code" href="struct__p3pri__main.html#ad7fb4a244db9b29660f051b6b18aaa92">cfg_data</a>;  
<a name="l00041"></a>00041     <span class="comment">// Local host definitions</span>
<a name="l00042"></a><a class="code" href="struct__p3pri__main.html#ae23037ce8de7043968abfee2902e1d22">00042</a>     <a class="code" href="struct__p3intfc.html">p3intfc</a>         *<a class="code" href="struct__p3pri__main.html#ae23037ce8de7043968abfee2902e1d22">intfc</a>;     
<a name="l00043"></a><a class="code" href="struct__p3pri__main.html#a4a8e6d70d71fbc01aebdffb7b75aec8d">00043</a>     <a class="code" href="struct__p3random.html">p3random</a>        *<a class="code" href="struct__p3pri__main.html#a4a8e6d70d71fbc01aebdffb7b75aec8d">random</a>;    
<a name="l00044"></a><a class="code" href="struct__p3pri__main.html#afe573de41a948bacfed797352128cf3b">00044</a>     <a class="code" href="struct__p3cluster.html">p3cluster</a>       *<a class="code" href="struct__p3pri__main.html#afe573de41a948bacfed797352128cf3b">cluster</a>;   
<a name="l00045"></a><a class="code" href="struct__p3pri__main.html#ad6a0aebea93134b1410f2ff738c90de4">00045</a>     <span class="keywordtype">int</span>             <a class="code" href="struct__p3pri__main.html#ad6a0aebea93134b1410f2ff738c90de4">karray_sz</a>;  
<a name="l00046"></a><a class="code" href="struct__p3pri__main.html#af54a7e595735967c18c0d33d4f3fba3b">00046</a>     <span class="keywordtype">int</span>             <a class="code" href="struct__p3pri__main.html#af54a7e595735967c18c0d33d4f3fba3b">hrtbt_tm</a>;   
<a name="l00047"></a><a class="code" href="struct__p3pri__main.html#abff78a0238ddcf0bb2548733c693a506">00047</a>     <span class="keywordtype">int</span>             <a class="code" href="struct__p3pri__main.html#abff78a0238ddcf0bb2548733c693a506">hrtbt_fail</a>; 
<a name="l00048"></a><a class="code" href="struct__p3pri__main.html#addef09eec1d8b2cda47ea1c9f289e429">00048</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct__p3pri__main.html#addef09eec1d8b2cda47ea1c9f289e429">flag</a>;
<a name="l00049"></a><a class="code" href="p3primary_8h.html#a934d74f9e69e748a619e05661aff826b">00049</a> <span class="preprocessor">#define p3PRI_NINFO 0x00000001  </span>
<a name="l00050"></a>00050 <span class="preprocessor">};</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span>
<a name="l00060"></a><a class="code" href="struct__p3intfc.html">00060</a> <span class="keyword">struct </span><a class="code" href="struct__p3intfc.html">_p3intfc</a> {
<a name="l00061"></a><a class="code" href="struct__p3intfc.html#a3936e0351c1e57679f5d789854282d1f">00061</a>     <a class="code" href="struct__p3intfc.html">p3intfc</a>         *next;      
<a name="l00062"></a><a class="code" href="struct__p3intfc.html#a48fd3cc5a94016a3b34b233b995b16cd">00062</a>     <span class="keywordtype">char</span>            *name;      
<a name="l00063"></a><a class="code" href="struct__p3intfc.html#aade9b05f816bda44077785b05a1dbbd7">00063</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct__p3pri__main.html#addef09eec1d8b2cda47ea1c9f289e429">flag</a>;
<a name="l00064"></a><a class="code" href="p3primary_8h.html#a90cd93a7afd1d59abc03478b7db0c965">00064</a> <span class="preprocessor">#define p3IF_LOCAL  0x00000001  </span>
<a name="l00065"></a>00065 <span class="preprocessor">};</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>
<a name="l00075"></a><a class="code" href="struct__p3random.html">00075</a> <span class="keyword">struct </span><a class="code" href="struct__p3random.html">_p3random</a> {
<a name="l00076"></a><a class="code" href="struct__p3random.html#abdb381b5c1139f8854424ec4f515e243">00076</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct__p3pri__main.html#addef09eec1d8b2cda47ea1c9f289e429">flag</a>;
<a name="l00077"></a><a class="code" href="p3primary_8h.html#a8f4a4b1c03412dc7ea9e80ec5c279391">00077</a> <span class="preprocessor">#define p3RND_HW    0x00000001  </span>
<a name="l00078"></a>00078 <span class="preprocessor">};</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span>
<a name="l00088"></a><a class="code" href="struct__p3cluster.html">00088</a> <span class="keyword">struct </span><a class="code" href="struct__p3cluster.html">_p3cluster</a> {
<a name="l00089"></a><a class="code" href="struct__p3cluster.html#ac4e0c690d144fd326e40ac4b462b7132">00089</a>     <a class="code" href="struct__p3chost.html">p3chost</a>         *chost;     
<a name="l00090"></a><a class="code" href="struct__p3cluster.html#a33b02c949a7a364cf92e957f822a4919">00090</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct__p3pri__main.html#addef09eec1d8b2cda47ea1c9f289e429">flag</a>;
<a name="l00091"></a><a class="code" href="p3primary_8h.html#ae17a3946c03d2bab33ee6fb0c7b24456">00091</a> <span class="preprocessor">#define p3CLS_RR    0x00000001  </span><span class="comment">/* Use round robin load balancing */</span>
<a name="l00092"></a><a class="code" href="p3primary_8h.html#a1737c26ba7c0c721bdd6ca36169f6034">00092</a> <span class="preprocessor">#define p3CLS_IREC  0x00000002  </span><span class="comment">/* Immediate recovery */</span>
<a name="l00093"></a>00093 };
<a name="l00094"></a>00094 
<a name="l00103"></a><a class="code" href="struct__p3chost.html">00103</a> <span class="keyword">struct </span><a class="code" href="struct__p3chost.html">_p3chost</a> {
<a name="l00104"></a><a class="code" href="struct__p3chost.html#aa9b0ec157d3e5ebbf88142d492bbe1b1">00104</a>     <a class="code" href="struct__p3chost.html">p3chost</a>         *next;      
<a name="l00105"></a><a class="code" href="struct__p3chost.html#ada44d5df8ed4a1969f9d97487bf10037">00105</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="struct__p3pri__main.html#addef09eec1d8b2cda47ea1c9f289e429">flag</a>;
<a name="l00106"></a><a class="code" href="p3primary_8h.html#a8e25445d35264001ca2fb9c7cc906357">00106</a> <span class="preprocessor">#define p3CHS_PRI   0x00000001  </span><span class="comment">/* Host is primary in cluster */</span>
<a name="l00107"></a>00107 };
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="comment">/*****  MACROS  *****/</span>
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 <span class="comment">/*****  PROTOTYPES  *****/</span>
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="keywordtype">int</span> <a class="code" href="p3primary_8c.html#a9a6affca68405d5292a65413d834f777">pri_parse_cmdline</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]);
<a name="l00114"></a>00114 <span class="keywordtype">int</span> <a class="code" href="p3primary_8c.html#a684cfe00f10f6b7af3456319753f8d28">pri_parse_config</a>();
<a name="l00115"></a>00115 <span class="keywordtype">int</span> <a class="code" href="p3primary_8c.html#a1248ee69c9a194579e8d6031dfb8afe1">init_config</a>();
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="comment">/*****  EXTERNAL DEFINITIONS  *****/</span>
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="preprocessor">#ifndef _p3_PRIMARY_C</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="struct__p3pri__main.html">p3pri_main</a> <a class="code" href="p3primary_8c.html#a208680be731447ccb8f72df566ed7eba">primain</a>;
<a name="l00121"></a>00121 <span class="keyword">extern</span> <span class="keywordtype">char</span> *<a class="code" href="p3primary_8c.html#a33417e7420182dd8d4c5879d75be2f69">p3buf</a>;
<a name="l00122"></a>00122 <span class="preprocessor">#endif</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span>
<a name="l00124"></a>00124 <span class="preprocessor">#endif </span><span class="comment">/* _p3_PRIMARY_H */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 1 13:24:47 2010 for Velocite Systems Protected Point to Point Solution by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
