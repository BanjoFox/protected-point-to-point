<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Velocite Systems Protected Point to Point Solution: p3secondary.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>p3secondary.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>Protected Point to Point product secondary main functions header file</h3>
<p>
Copyright (C) Velocite 2010 
<p>
<code>#include &quot;<a class="el" href="p3base_8h-source.html">p3base.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="p3utils_8h-source.html">p3utils.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="p3net_8h-source.html">p3net.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="p3share_8h-source.html">p3share.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for p3secondary.h:</div>
<div class="dynsection">
<p><center><img src="p3secondary_8h__incl.png" border="0" usemap="#p3secondary.h_map" alt=""></center>
<map name="p3secondary.h_map">
<area shape="rect" href="p3base_8h.html" title="p3base.h" alt="" coords="701,161,781,188"><area shape="rect" href="p3utils_8h.html" title="p3utils.h" alt="" coords="819,84,893,111"><area shape="rect" href="p3net_8h.html" title="p3net.h" alt="" coords="675,84,744,111"><area shape="rect" href="p3share_8h.html" title="p3share.h" alt="" coords="925,84,1011,111"><area shape="rect" href="p3crypto_8h.html" title="p3crypto.h" alt="" coords="1048,161,1136,188"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="p3secondary_8h__dep__incl.png" border="0" usemap="#p3secondary.hdep_map" alt=""></center>
<map name="p3secondary.hdep_map">
<area shape="rect" href="p3primaryplus_8c.html" title="p3primaryplus.c" alt="" coords="5,84,128,111"><area shape="rect" href="p3profile_8c.html" title="p3profile.c" alt="" coords="152,84,240,111"><area shape="rect" href="p3sec__key__handler_8c.html" title="p3sec_key_handler.c" alt="" coords="264,84,416,111"><area shape="rect" href="p3sec__ui_8c.html" title="p3sec_ui.c" alt="" coords="440,84,528,111"><area shape="rect" href="p3secondary_8c.html" title="p3secondary.c" alt="" coords="552,84,664,111"></map>
</div>

<p>
<a href="p3secondary_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__p3sec__main.html">_p3sec_main</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#42fa47c386caa888ebfc6dd08673e9cd">p3SEC_HOME</a>&nbsp;&nbsp;&nbsp;&quot;/usr/share/velsys/p3&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#5a3907b1ff709707973c4fdcb595150c">p3SEC_CONFIG</a>&nbsp;&nbsp;&nbsp;&quot;p3secondary.conf&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#d04002a418ea9e3482b5e93b09116b12">p3SEC_NINFO</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#c9d721a53ba45050f9a636850c4506e9">p3SCF_CLENABLE</a>&nbsp;&nbsp;&nbsp;0x00000002</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#19df820cc2d866faf9fbe7448cb6d360">p3SCF_CLDBALRR</a>&nbsp;&nbsp;&nbsp;0x00000004</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#5d682d84e4b440d416b96240aa3426d6">p3SCF_CLDBALBC</a>&nbsp;&nbsp;&nbsp;0x00000008</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct__p3sec__main.html">_p3sec_main</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#45b5eb13a89dcbdfeb47fa4f125ecb4e">p3sec_main</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#81c4ae520978479282879eff2372ace9">sec_parse_cmdline</a> (int argc, char *argv[])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#95db124390fde328fcbafb3c60199e0c">sec_parse_config</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#ef5d3782888a0fd1df41418d71b76a15">sec_init_config</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#9d93e17cf07a97b3d7ac0793fa5aa141">update_prihost</a> (<a class="el" href="struct__p3prihostcfg.html">p3prihostcfg</a> *prihost)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__p3sec__main.html">p3sec_main</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="p3secondary_8h.html#47a2a01be85936f9c7f19c8db150f72f">secmain</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="42fa47c386caa888ebfc6dd08673e9cd"></a><!-- doxytag: member="p3secondary.h::p3SEC_HOME" ref="42fa47c386caa888ebfc6dd08673e9cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define p3SEC_HOME&nbsp;&nbsp;&nbsp;&quot;/usr/share/velsys/p3&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="p3secondary_8c-source.html#l00068">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5a3907b1ff709707973c4fdcb595150c"></a><!-- doxytag: member="p3secondary.h::p3SEC_CONFIG" ref="5a3907b1ff709707973c4fdcb595150c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define p3SEC_CONFIG&nbsp;&nbsp;&nbsp;&quot;p3secondary.conf&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="p3secondary_8c-source.html#l00068">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d04002a418ea9e3482b5e93b09116b12"></a><!-- doxytag: member="p3secondary.h::p3SEC_NINFO" ref="d04002a418ea9e3482b5e93b09116b12" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define p3SEC_NINFO&nbsp;&nbsp;&nbsp;0x00000001          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c9d721a53ba45050f9a636850c4506e9"></a><!-- doxytag: member="p3secondary.h::p3SCF_CLENABLE" ref="c9d721a53ba45050f9a636850c4506e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define p3SCF_CLENABLE&nbsp;&nbsp;&nbsp;0x00000002          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="19df820cc2d866faf9fbe7448cb6d360"></a><!-- doxytag: member="p3secondary.h::p3SCF_CLDBALRR" ref="19df820cc2d866faf9fbe7448cb6d360" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define p3SCF_CLDBALRR&nbsp;&nbsp;&nbsp;0x00000004          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5d682d84e4b440d416b96240aa3426d6"></a><!-- doxytag: member="p3secondary.h::p3SCF_CLDBALBC" ref="5d682d84e4b440d416b96240aa3426d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define p3SCF_CLDBALBC&nbsp;&nbsp;&nbsp;0x00000008          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="45b5eb13a89dcbdfeb47fa4f125ecb4e"></a><!-- doxytag: member="p3secondary.h::p3sec_main" ref="45b5eb13a89dcbdfeb47fa4f125ecb4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__p3sec__main.html">_p3sec_main</a> <a class="el" href="struct__p3sec__main.html">p3sec_main</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="81c4ae520978479282879eff2372ace9"></a><!-- doxytag: member="p3secondary.h::sec_parse_cmdline" ref="81c4ae520978479282879eff2372ace9" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sec_parse_cmdline           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pc_argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>pc_argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Function:</b></dt><dd>sec_parse_cmdline</dd></dl>
<dl class="user" compact><dt><b>Description:</b></dt><dd>Parse command line arguments supplied to the P3 Secondary application.</dd></dl>
<dl class="user" compact><dt><b>Inputs:</b></dt><dd><ul>
<li>pc_argc: Number of arguments</li><li>pc_argv: Argument vector</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Outputs:</b></dt><dd><ul>
<li>int: Status<ul>
<li>0 = OK</li><li>&lt;0 = Error</li><li>&gt;0 = Informational </li></ul>
</li></ul>
</dd></dl>

<p>References <a class="el" href="p3secondary_8h-source.html#l00038">_p3sec_main::config</a>, <a class="el" href="p3utils_8h-source.html#l00062">_p3util::flag</a>, <a class="el" href="p3secondary_8h-source.html#l00036">_p3sec_main::home</a>, <a class="el" href="mdefs_8h-source.html#l00019">NULL</a>, <a class="el" href="p3primary_8c-source.html#l00074">p3buf</a>, <a class="el" href="p3profile_8c-source.html#l00387">p3errmsg()</a>, <a class="el" href="p3base_8h-source.html#l00171">p3malloc</a>, <a class="el" href="p3base_8h-source.html#l00046">p3MSG_CRIT</a>, <a class="el" href="p3base_8h-source.html#l00047">p3MSG_ERR</a>, <a class="el" href="p3utils_8c-source.html#l00024">p3utils</a>, <a class="el" href="p3utils_8h-source.html#l00063">p3UTL_NINFO</a>, and <a class="el" href="p3base_8h-source.html#l00041">p3VERSION</a>.</p>

<p>Referenced by <a class="el" href="p3secondary_8c-source.html#l00068">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="p3secondary_8h_81c4ae520978479282879eff2372ace9_cgraph.png" border="0" usemap="#p3secondary_8h_81c4ae520978479282879eff2372ace9_cgraph_map" alt=""></center>
<map name="p3secondary_8h_81c4ae520978479282879eff2372ace9_cgraph_map">
<area shape="rect" href="p3profile_8c.html#115044c21fee0be99499431a0d3cabdc" title="p3errmsg" alt="" coords="199,5,281,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="95db124390fde328fcbafb3c60199e0c"></a><!-- doxytag: member="p3secondary.h::sec_parse_config" ref="95db124390fde328fcbafb3c60199e0c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sec_parse_config           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Function:</b></dt><dd>sec_parse_config</dd></dl>
<dl class="user" compact><dt><b>Description:</b></dt><dd>Parse the P3 Secondary configuration file.</dd></dl>
<dl class="user" compact><dt><b>Inputs:</b></dt><dd><ul>
<li>None</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Outputs:</b></dt><dd><ul>
<li>int: Status<ul>
<li>0 = OK</li><li>&lt;0 = Error</li><li>&gt;0 = Config does not exist, use defaults </li></ul>
</li></ul>
</dd></dl>

<p>References <a class="el" href="struct__p3prihostcfg.html#dec9d1bd5e21ed9cc4de7ec036b26628">_p3prihostcfg::addr</a>, <a class="el" href="struct__p3secondarycfg.html#f5df3d567d304f7537228cc2cfd823c8">_p3secondarycfg::addr</a>, <a class="el" href="p3secondary_8h-source.html#l00040">_p3sec_main::cfg_data</a>, <a class="el" href="p3secondary_8h-source.html#l00042">_p3sec_main::cluster</a>, <a class="el" href="p3secondary_8h-source.html#l00038">_p3sec_main::config</a>, <a class="el" href="p3share_8h-source.html#l00106">_p3prihostcfg::flag</a>, <a class="el" href="p3utils_8h-source.html#l00095">_p3cluster::flag</a>, <a class="el" href="p3share_8h-source.html#l00087">_p3secondarycfg::flag</a>, <a class="el" href="p3utils_8c-source.html#l00455">getsubnetcfg()</a>, <a class="el" href="p3secondary_8h-source.html#l00036">_p3sec_main::home</a>, <a class="el" href="p3share_8h-source.html#l00156">_p3subnetcfg::id</a>, <a class="el" href="p3profile_8c-source.html#l00361">isallnum()</a>, <a class="el" href="p3profile_8c-source.html#l00031">line</a>, <a class="el" href="p3share_8h-source.html#l00018">LOCALEND</a>, <a class="el" href="p3share_8h-source.html#l00017">LOCALSTART</a>, <a class="el" href="struct__p3util.html#b8ffbad20fd56390e5997d7c33599685">_p3util::lochost</a>, <a class="el" href="p3share_8h-source.html#l00155">_p3subnetcfg::mask</a>, <a class="el" href="struct__p3subnetcfg.html#458e7792eabe62f86124729715baf592">_p3subnetcfg::net</a>, <a class="el" href="p3share_8h-source.html#l00150">_p3subnetcfg::next</a>, <a class="el" href="mdefs_8h-source.html#l00019">NULL</a>, <a class="el" href="p3primary_8c-source.html#l00074">p3buf</a>, <a class="el" href="p3base_8h-source.html#l00055">p3BUFSIZE</a>, <a class="el" href="p3base_8h-source.html#l00185">p3calloc</a>, <a class="el" href="p3profile_8c-source.html#l00387">p3errmsg()</a>, <a class="el" href="p3net_8h-source.html#l00047">p3HST_ID</a>, <a class="el" href="p3net_8h-source.html#l00048">p3HST_IPV4</a>, <a class="el" href="p3net_8h-source.html#l00049">p3HST_IPV6</a>, <a class="el" href="p3base_8h-source.html#l00046">p3MSG_CRIT</a>, <a class="el" href="p3base_8h-source.html#l00051">p3MSG_DEBUG</a>, <a class="el" href="p3base_8h-source.html#l00047">p3MSG_ERR</a>, <a class="el" href="p3share_8h-source.html#l00058">p3PRI_PORT</a>, <a class="el" href="p3utils_8c-source.html#l00024">p3utils</a>, <a class="el" href="p3base_8h-source.html#l00053">PATH_SEPARATOR</a>, <a class="el" href="p3share_8h-source.html#l00105">_p3prihostcfg::port</a>, <a class="el" href="struct__p3util.html#1056b2a503f0e0d940c56f0f2b109371">_p3util::remhost</a>, <a class="el" href="p3secondary_8c-source.html#l00761">sec_init_config()</a>, <a class="el" href="p3share_8h-source.html#l00035">secondarycfg</a>, <a class="el" href="p3utils_8c-source.html#l00281">send_ioctl()</a>, <a class="el" href="p3share_8h-source.html#l00103">_p3prihostcfg::subnets</a>, <a class="el" href="p3share_8h-source.html#l00104">_p3prihostcfg::subnetsz</a>, <a class="el" href="p3secondary_8c-source.html#l00851">update_prihost()</a>, <a class="el" href="p3share_8h-source.html#l00152">_p3subnetcfg::v4</a>, <a class="el" href="p3share_8h-source.html#l00100">_p3prihostcfg::v4</a>, <a class="el" href="p3utils_8h-source.html#l00055">_p3util::v4</a>, <a class="el" href="p3share_8h-source.html#l00084">_p3secondarycfg::v4</a>, <a class="el" href="p3share_8h-source.html#l00153">_p3subnetcfg::v6</a>, <a class="el" href="p3share_8h-source.html#l00101">_p3prihostcfg::v6</a>, <a class="el" href="p3utils_8h-source.html#l00056">_p3util::v6</a>, and <a class="el" href="p3share_8h-source.html#l00085">_p3secondarycfg::v6</a>.</p>

<p>Referenced by <a class="el" href="p3secondary_8c-source.html#l00068">main()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="p3secondary_8h_95db124390fde328fcbafb3c60199e0c_cgraph.png" border="0" usemap="#p3secondary_8h_95db124390fde328fcbafb3c60199e0c_cgraph_map" alt=""></center>
<map name="p3secondary_8h_95db124390fde328fcbafb3c60199e0c_cgraph_map">
<area shape="rect" href="p3share_8h.html#d4ee9a93e1902e17cd3a05f4e110575a" title="getsubnetcfg" alt="" coords="357,5,461,32"><area shape="rect" href="p3profile_8c.html#115044c21fee0be99499431a0d3cabdc" title="p3errmsg" alt="" coords="516,157,599,184"><area shape="rect" href="p3profile_8c.html#a44b4e5158dd78b2c1dfda311450d357" title="isallnum" alt="" coords="208,107,283,133"><area shape="rect" href="p3secondary_8c.html#ef5d3782888a0fd1df41418d71b76a15" title="sec_init_config" alt="" coords="352,157,467,184"><area shape="rect" href="p3utils_8c.html#32323aa18a7307b0c873ce87a6c82b7e" title="send_ioctl" alt="" coords="367,208,452,235"><area shape="rect" href="p3secondary_8c.html#9d93e17cf07a97b3d7ac0793fa5aa141" title="update_prihost" alt="" coords="187,259,304,285"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ef5d3782888a0fd1df41418d71b76a15"></a><!-- doxytag: member="p3secondary.h::sec_init_config" ref="ef5d3782888a0fd1df41418d71b76a15" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sec_init_config           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Function:</b></dt><dd>init_config</dd></dl>
<dl class="user" compact><dt><b>Description:</b></dt><dd>Initialize the configuration file for first time use.</dd></dl>
<dl class="user" compact><dt><b>Inputs:</b></dt><dd><ul>
<li>None</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Outputs:</b></dt><dd><ul>
<li>int: Status<ul>
<li>0 = OK</li><li>&lt;0 = Error </li></ul>
</li></ul>
</dd></dl>

<p>References <a class="el" href="p3secondary_8h-source.html#l00040">_p3sec_main::cfg_data</a>, <a class="el" href="p3secondary_8h-source.html#l00038">_p3sec_main::config</a>, <a class="el" href="p3secondary_8h-source.html#l00036">_p3sec_main::home</a>, <a class="el" href="mdefs_8h-source.html#l00019">NULL</a>, <a class="el" href="p3primary_8c-source.html#l00074">p3buf</a>, <a class="el" href="p3profile_8c-source.html#l00387">p3errmsg()</a>, <a class="el" href="p3base_8h-source.html#l00046">p3MSG_CRIT</a>, <a class="el" href="p3base_8h-source.html#l00060">p3SHARE_MODE</a>, and <a class="el" href="p3base_8h-source.html#l00053">PATH_SEPARATOR</a>.</p>

<p>Referenced by <a class="el" href="p3secondary_8c-source.html#l00312">sec_parse_config()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="p3secondary_8h_ef5d3782888a0fd1df41418d71b76a15_cgraph.png" border="0" usemap="#p3secondary_8h_ef5d3782888a0fd1df41418d71b76a15_cgraph_map" alt=""></center>
<map name="p3secondary_8h_ef5d3782888a0fd1df41418d71b76a15_cgraph_map">
<area shape="rect" href="p3profile_8c.html#115044c21fee0be99499431a0d3cabdc" title="p3errmsg" alt="" coords="169,5,252,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="9d93e17cf07a97b3d7ac0793fa5aa141"></a><!-- doxytag: member="p3secondary.h::update_prihost" ref="9d93e17cf07a97b3d7ac0793fa5aa141" args="(p3prihostcfg *prihost)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_prihost           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__p3prihostcfg.html">p3prihostcfg</a> *&nbsp;</td>
          <td class="paramname"> <em>prihost</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Function:</b></dt><dd>update_prihost</dd></dl>
<dl class="user" compact><dt><b>Description:</b></dt><dd>Build a remote primary host definition to be sent to the kernel module in an ioctl buffer. The list of subnet configurations is freed as the command buffer is built.</dd></dl>
<dl class="user" compact><dt><b>Inputs:</b></dt><dd><ul>
<li>prihost: The primary host definition, which contains a list of subnets associated with it.</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Outputs:</b></dt><dd><ul>
<li>int: Status<ul>
<li>0 = OK</li><li>&lt;0 = Error </li></ul>
</li></ul>
</dd></dl>

<p>References <a class="el" href="p3share_8h-source.html#l00150">_p3subnetcfg::next</a>, <a class="el" href="mdefs_8h-source.html#l00019">NULL</a>, <a class="el" href="p3primary_8c-source.html#l00074">p3buf</a>, <a class="el" href="p3profile_8c-source.html#l00387">p3errmsg()</a>, <a class="el" href="p3base_8h-source.html#l00171">p3malloc</a>, <a class="el" href="p3base_8h-source.html#l00046">p3MSG_CRIT</a>, <a class="el" href="p3base_8h-source.html#l00047">p3MSG_ERR</a>, <a class="el" href="p3base_8h-source.html#l00048">p3MSG_WARN</a>, <a class="el" href="p3share_8h-source.html#l00035">primaryhostcfg</a>, <a class="el" href="p3utils_8c-source.html#l00281">send_ioctl()</a>, <a class="el" href="p3share_8h-source.html#l00103">_p3prihostcfg::subnets</a>, and <a class="el" href="p3share_8h-source.html#l00104">_p3prihostcfg::subnetsz</a>.</p>

<p>Referenced by <a class="el" href="p3secondary_8c-source.html#l00312">sec_parse_config()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="p3secondary_8h_9d93e17cf07a97b3d7ac0793fa5aa141_cgraph.png" border="0" usemap="#p3secondary_8h_9d93e17cf07a97b3d7ac0793fa5aa141_cgraph_map" alt=""></center>
<map name="p3secondary_8h_9d93e17cf07a97b3d7ac0793fa5aa141_cgraph_map">
<area shape="rect" href="p3profile_8c.html#115044c21fee0be99499431a0d3cabdc" title="p3errmsg" alt="" coords="305,5,388,32"><area shape="rect" href="p3utils_8c.html#32323aa18a7307b0c873ce87a6c82b7e" title="send_ioctl" alt="" coords="171,31,256,57"></map>
</div>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="47a2a01be85936f9c7f19c8db150f72f"></a><!-- doxytag: member="p3secondary.h::secmain" ref="47a2a01be85936f9c7f19c8db150f72f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__p3sec__main.html">p3sec_main</a> <a class="el" href="p3ksecondary_8h.html#e4baf3a9549eb15921bb3cc1797200f2">secmain</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The main secondary structure 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Sep 24 10:44:31 2010 for Velocite Systems Protected Point to Point Solution by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
